/* =========================================
   1. VARIABLES Y RESET (Igual)
   ========================================= */
:root {
    --primary-color: #2c3e50;
    --text-color: #333;
    --bg-color: #f4f7f6;
    --card-shadow: 0 10px 20px rgba(0,0,0,0.1);
}

body {
    font-family: 'Segoe UI', Roboto, sans-serif;
    color: var(--text-color);
    padding: 20px;
    background-image: url('../Imagenes/f2.avif'); /* Tu fondo */
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
    min-height: 100vh;
}

/* =========================================
   2. CONTENEDOR ANCHO (DASHBOARD)
   ========================================= */
.resumen-container {
    /* Hacemos el contenedor más ancho para que quepan las 2 columnas */
    max-width: 1100px; 
    margin: 20px auto;
    background: rgba(255, 255, 255, 0.96); /* Casi opaco */
    padding: 30px;
    border-radius: 15px;
    box-shadow: 0 15px 30px rgba(0,0,0,0.2);
    animation: slideUp 0.6s ease-out;
}

/* Cabecera compacta */
.header-resumen {
    display: flex;
    align-items: center;
    gap: 20px;
    margin-bottom: 30px;
    border-bottom: 1px solid #eee;
    padding-bottom: 20px;
}

.header-resumen .logo {
    max-height: 70px; /* Logo más pequeño para que no estorbe */
    width: auto;
}

.header-resumen h1 {
    font-size: 1.8em;
    margin: 0;
    color: var(--primary-color);
}

.header-resumen .intro { margin: 0; color: #666; font-size: 0.95em; }

/* =========================================
   3. GRID LAYOUT (IZQUIERDA / DERECHA)
   ========================================= */
.dashboard-grid {
    display: grid;
    /* Columna Izquierda (35%) | Columna Derecha (65%) */
    grid-template-columns: 350px 1fr; 
    gap: 30px;
    align-items: start; /* Alinear arriba */
}

/* =========================================
   4. TARJETA DE PUNTAJE (IZQUIERDA)
   ========================================= */
.card-puntaje {
    text-align: center;
    padding: 30px 20px;
    border-radius: 12px;
    color: white;
    box-shadow: var(--card-shadow);
    background: #667eea;
    position: relative;
}

.titulo-score { text-transform: uppercase; font-size: 0.85em; opacity: 0.8; letter-spacing: 1px; }

.big-number {
    font-size: 4.5rem; /* Grande */
    font-weight: 800;
    line-height: 1;
    margin: 10px 0;
}

#lblMaximo { font-size: 0.4em; opacity: 0.8; }

.nivel-label {
    font-size: 1.4em;
    font-weight: bold;
    background: rgba(0,0,0,0.2);
    display: inline-block;
    padding: 4px 15px;
    border-radius: 20px;
    margin-bottom: 10px;
}

.mensaje-score { font-size: 0.95em; line-height: 1.4; opacity: 0.95; }

/* Panel de botones debajo de la tarjeta */
.actions-panel {
    margin-top: 20px;
}

.btn-imprimir {
    display: block;
    width: 100%;
    padding: 12px;
    background-color: var(--primary-color);
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 1em;
    cursor: pointer;
    text-decoration: none;
    transition: 0.3s;
}

.btn-imprimir:hover { background-color: #1a252f; transform: translateY(-2px); }

.link-salir {
    display: block;
    text-align: center;
    margin-top: 15px;
    color: #888;
    text-decoration: none;
    font-size: 0.9em;
}

/* =========================================
   5. TABLA (DERECHA)
   ========================================= */
.titulo-seccion {
    margin-top: 0;
    margin-bottom: 15px;
    font-size: 1.2em;
    color: var(--primary-color);
    border-left: 4px solid var(--primary-color);
    padding-left: 10px;
}

.tabla-container {
    background: white;
    border-radius: 8px;
    border: 1px solid #eee;
    overflow: hidden; /* Redondea esquinas */
}

.tabla-desglosada {
    width: 100%;
    border-collapse: collapse;
}

.tabla-desglosada th {
    background-color: #f1f3f5;
    color: #444;
    font-weight: 600;
    text-transform: uppercase;
    font-size: 0.75em;
    padding: 12px 15px;
    text-align: left;
}

.tabla-desglosada td {
    padding: 10px 15px;
    border-bottom: 1px solid #f0f0f0;
    font-size: 0.95em;
    color: #555;
}

.tabla-desglosada tr:last-child td { border-bottom: none; }
.tabla-desglosada tr:hover { background-color: #fafafa; }

.col-puntos {
    text-align: right;
    font-weight: bold;
    color: var(--primary-color);
}

/* =========================================
   6. RESPONSIVO (MÓVIL)
   ========================================= */
@media (max-width: 768px) {
    .dashboard-grid {
        grid-template-columns: 1fr; /* Una sola columna en móvil */
    }
    .header-resumen { flex-direction: column; text-align: center; }
}

/* =========================================
   7. ESTILOS DE IMPRESIÓN (PDF)
   ========================================= */
@media print {
    /* 1. Configuración de la hoja */
    @page {
        margin: 1cm; /* Margen limpio alrededor del papel */
        size: auto;  /* Usa el tamaño de papel definido por el usuario */
    }

    body {
        background: none !important; /* Quita la imagen de fondo pesado */
        padding: 0;
        margin: 0;
        /* IMPORTANTE: Fuerza al navegador a imprimir colores de fondo (la tarjeta) */
        -webkit-print-color-adjust: exact; 
        print-color-adjust: exact;
    }

    /* 2. Arreglar el Contenedor Principal */
    .resumen-container {
        box-shadow: none !important;
        margin: 0 !important;
        width: 100% !important;
        max-width: 100% !important;
        padding: 0 !important;
        background: white !important;
    }

    /* 3. BLOQUEAR EL LOGO Y ENCABEZADO (Para que no se muevan) */
    .header-resumen {
        display: flex !important;        /* Forzamos Flexbox */
        flex-direction: row !important;  /* Horizontal */
        align-items: center !important;  /* Centrado vertical */
        gap: 20px !important;            /* Espacio fijo */
        border-bottom: 2px solid #333 !important; /* Línea divisoria elegante */
        padding-bottom: 10px;
        margin-bottom: 20px;
    }

    .header-resumen .logo {
        max-width: 180px !important;      /* Tamaño fijo estricto */
        height: auto !important;
        margin: 0 !important;            /* Sin márgenes extraños */
        display: block !important;
    }

    .header-resumen h1 {
        font-size: 1.1em !important;     /* Texto un poco más chico para papel */
        color: black !important;
        margin: 0 !important;
    }

    .header-resumen .intro {
        color: #444 !important;
    }

    /* 4. MANTENER EL DISEÑO DE 2 COLUMNAS (Opcional) */
    /* Si quieres que salga igual que en pantalla (lado a lado): */
    .dashboard-grid {
        display: grid !important;
        grid-template-columns: 300px 1fr !important; /* Tarjeta izq, Tabla der */
        gap: 20px !important;
        align-items: start;
    }

    /* 5. ARREGLAR LA TARJETA DE PUNTAJE */
    .card-puntaje {
        /* Forzamos el color de fondo para que salga en papel */
        color: white !important;
        /* El background se pone vía JS, pero esto asegura que se respete */
        box-shadow: none !important;
        border: 1px solid #ccc;
        page-break-inside: avoid; /* Evita que se corte a la mitad */
    }
    
    /* Asegurar que los textos blancos de la tarjeta se vean */
    .big-number, .nivel-label, .mensaje-score, .titulo-score {
        color: white !important;
        text-shadow: none !important;
    }

    /* 6. ARREGLAR LA TABLA */
    .tabla-desglosada th {
        background-color: #eee !important;
        color: black !important;
    }
    .tabla-desglosada td {
        color: black !important;
    }

    /* 7. OCULTAR ELEMENTOS INNECESARIOS */
    .btn-imprimir, .link-salir {
        display: none !important;
    }
}